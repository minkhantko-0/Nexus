<app-header></app-header>
<mat-card *ngIf="error" class="mat-error">{{ error }}</mat-card>
<mat-tab-group mat-align-tabs="center" align="center">
    <mat-tab label="Create A New Group">
        <div *ngIf="isLoading">
            <app-loading-spinner></app-loading-spinner>
        </div>
        <div align="center" *ngIf="!isLoading && !error">
            <mat-card>
                <mat-card-header style="display: flex; align-items: center">
                    <mat-icon align="end" matCardAvatar style="color: gray"
                        >supervised_user_circle
                    </mat-icon>
                    <mat-card-title style="color: gray"
                        >Add A New Group
                    </mat-card-title>
                </mat-card-header>
                <button
                    style="padding: 0; margin: 0"
                    mat-icon-button
                    color="primary"
                    (click)="onCreateGroup()">
                    <mat-icon>add_circle_outline</mat-icon>
                </button>
            </mat-card>
        </div>
    </mat-tab>
    <mat-tab label="Joined Groups">
        <div *ngIf="isLoading">
            <app-loading-spinner></app-loading-spinner>
        </div>
        <mat-card *ngIf="error" class="mat-error"> {{ error }}</mat-card>
        <div align="center">
            <h3
                *ngIf="joinedGroups?.length === 0"
                style="color: gray; margin: 8px">
                No Group Yet! Join One?
            </h3>
            <mat-card *ngFor="let group of joinedGroups">
                <div class="interior-wrapper">
                    <mat-card-header>
                        <img mat-card-avatar src="{{ group.profile }}" alt="" />
                        <mat-card-title align="start">{{
                            group.name
                        }}</mat-card-title>
                        <mat-card-subtitle align="start">{{
                            group.description | slice: 0:20
                        }}</mat-card-subtitle>
                    </mat-card-header>
                    <mat-card-actions>
                        <button
                            mat-button
                            color="primary"
                            (click)="onViewGroup(group._id)">
                            View
                        </button>
                    </mat-card-actions>
                </div>
            </mat-card>
        </div>
    </mat-tab>
    <mat-tab label="Your Groups">
        <div *ngIf="isLoading">
            <app-loading-spinner></app-loading-spinner>
        </div>
        <div align="center">
            <h3
                *ngIf="yourGroups?.length === 0"
                style="color: gray; margin: 8px">
                No Group Yet! Create a New One?
            </h3>
            <mat-card *ngFor="let group of yourGroups">
                <div class="interior-wrapper">
                    <mat-card-header>
                        <img mat-card-avatar src="{{ group.profile }}" alt="" />
                        <mat-card-title align="start">{{
                            group.name
                        }}</mat-card-title>
                        <mat-card-subtitle align="start">{{
                            group.description | slice: 0:20
                        }}</mat-card-subtitle>
                    </mat-card-header>
                    <mat-card-actions>
                        <button
                            mat-button
                            color="primary"
                            (click)="onViewGroup(group._id)">
                            View
                        </button>
                    </mat-card-actions>
                </div>
            </mat-card>
        </div>
    </mat-tab>
</mat-tab-group>
